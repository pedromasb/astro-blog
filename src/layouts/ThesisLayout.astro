---
import { SITE } from "@config";
import Footer from "@components/Footer.astro";
import Header from "@components/Header.astro";
import Layout from "./Layout.astro";

export interface Props {
  // allow either plain props...
  title?: string;
  description?: string;
  // ...or a legacy frontmatter object
  frontmatter?: {
    title: string;
    description?: string;
  };
}

const { title, description, frontmatter } = Astro.props;

// Resolve final title/description from either shape
const pageTitle = (title ?? frontmatter?.title ?? "Doctoral Thesis");
const pageDesc  = (description ?? frontmatter?.description ?? "PhD thesis â€” details and abstract");
---

<Layout title={`${pageTitle} | ${SITE.title}`} description={pageDesc}>
  <Header activeNav="thesis" />
  <main id="main-content">
    <section id="thesis" class="prose mb-28 max-w-3xl prose-img:border-0">
      <h1 class="text-2xl mt-5 tracking-wider sm:text-3xl">{pageTitle}</h1>
      <slot />
    </section>
  </main>
  <Footer />
</Layout>
