---
import ThesisLayout from "../../layouts/ThesisLayout.astro";
import ThesisAsk from "../../components/ThesisAsk.tsx"; // your React island (already built)
---

<ThesisLayout
  title="Doctoral Thesis"
  description="PhD thesis — details, abstract, milestones, and an interactive Q&A tool."
>
  <!-- (2) LEFT COLUMN: metadata card -->
  <Fragment slot="meta">
    <h2 class="text-lg sm:text-xl font-semibold mb-3">Thesis Details</h2>

    <div class="space-y-3 text-sm sm:text-base">
      <div>
        <div class="text-skin-muted uppercase tracking-wide text-xs mb-1">Title</div>
        <div class="text-base sm:text-lg font-medium">
          Virtual Observatory and machine learning for the study of low-mass objects in photometric and spectroscopic surveys
        </div>
      </div>

      <div>
        <div class="text-skin-muted uppercase tracking-wide text-xs mb-1">Supervisors</div>
        <ul class="list-disc pl-5 space-y-1">
          <li>Dr. Enrique Solano Márquez</li>
          <li>Dra. Ana González Marcos</li>
        </ul>
      </div>

      <div class="grid gap-2 sm:grid-cols-2">
        <div>
          <div class="text-skin-muted uppercase tracking-wide text-xs mb-1">Institution</div>
          <div>Centro de Astrobiología (CAB), INTA-CSIC</div>
        </div>
        <div>
          <div class="text-skin-muted uppercase tracking-wide text-xs mb-1">University</div>
          <div>Universidad Complutense de Madrid</div>
        </div>
      </div>
    </div>
  </Fragment>

  <!-- (2) RIGHT COLUMN: abstract card -->
  <Fragment slot="abstract">
    <p>
      <!-- Paste your full abstract here. Keep paragraphs; the serif styling improves long-form readability. -->
    </p>
  </Fragment>

  <!-- (3) TIMELINE -->
  <Fragment slot="timeline">
    <!-- Each milestone -->
    <div class="relative mb-6">
      <div class="absolute -left-[7px] top-1 h-3 w-3 rounded-full border border-skin-line/70 bg-skin-fill"></div>
      <div class="text-sm text-skin-muted">2019</div>
      <div class="font-medium">PhD start</div>
      <div class="text-sm text-skin-muted">Initial literature review and data curation</div>
    </div>

    <div class="relative mb-6">
      <div class="absolute -left-[7px] top-1 h-3 w-3 rounded-full border border-skin-line/70 bg-skin-fill"></div>
      <div class="text-sm text-skin-muted">2021</div>
      <div class="font-medium">J-PLUS UCD candidate catalog</div>
      <div class="text-sm text-skin-muted">Parallax/proper motion/photometry selection & validation</div>
    </div>

    <div class="relative mb-6">
      <div class="absolute -left-[7px] top-1 h-3 w-3 rounded-full border border-skin-line/70 bg-skin-fill"></div>
      <div class="text-sm text-skin-muted">2023</div>
      <div class="font-medium">CARMENES deep transfer learning</div>
      <div class="text-sm text-skin-muted">Autoencoders + transfer learning for stellar parameters</div>
    </div>

    <div class="relative">
      <div class="absolute -left-[7px] top-1 h-3 w-3 rounded-full border border-skin-line/70 bg-skin-fill"></div>
      <div class="text-sm text-skin-muted">2025</div>
      <div class="font-medium">Thesis submission & defense</div>
    </div>
  </Fragment>

  <!-- (4) CHAT ZONE -->
  <Fragment slot="chat">
    <!-- Keep the widget simple; it will render *inside* the styled container from the layout -->
    <ThesisAsk client:load />
  </Fragment>

  <!-- (5) Optional extra prose below all cards (kept for back-compat) -->
  <!--
  <p>Any additional notes can go here…</p>
  -->
</ThesisLayout>
